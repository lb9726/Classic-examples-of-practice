https://gist.github.com/silv3rm00n/5604330
http://www.lowtek.com/sockets/select.html